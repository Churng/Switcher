{"remainingRequest":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/babel-loader/lib/index.js!/Users/yuhsuanlee/Switcher/main_vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yuhsuanlee/Switcher/main_vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuhsuanlee/Switcher/main_vue/src/components/front_side/MapSearch.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuhsuanlee/Switcher/main_vue/src/components/front_side/MapSearch.vue","mtime":1590717017171},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb21lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnNldCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgY29uc29sZS5sb2codGhpcy5hbGxTdG9yZURhdGEpOwogICAgcmV0dXJuIHsKICAgICAgc2VsZWN0Q2l0eTogJ+WFqOWPsOeBoycsCiAgICAgIHNlbGVjdFRvd246ICfphInpjq4nLAogICAgICBzZWFyY2hTdG9yZTogJycsCiAgICAgIHNlYXJjaERhdGE6ICcnLAogICAgICBzZWxlY3RlZERhdGE6IFtdCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIGFsbFN0b3JlRGF0YTogewogICAgICB0eXBlOiBBcnJheQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGZpbHRlcmVkU2VsbGVyczogZnVuY3Rpb24gZmlsdGVyZWRTZWxsZXJzKCkgewogICAgICB2YXIgc2VhcmNoU3RvcmUgPSB0aGlzLnNlYXJjaFN0b3JlLnRyaW0oKTsKCiAgICAgIGlmICghc2VhcmNoU3RvcmUpIHsKICAgICAgICByZXR1cm4gdGhpcy5hbGxTdG9yZURhdGE7CiAgICAgIH0KCiAgICAgIHZhciBzZWxsZXJzQXJyID0gdGhpcy5hbGxTdG9yZURhdGEuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0uc3RvcmVzLkFkZHJlc3MuaW5kZXhPZihzZWFyY2hTdG9yZSkgIT09IC0xKSB7CiAgICAgICAgICByZXR1cm4gaXRlbTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gc2VsbGVyc0FycjsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBzZWxlY3RDaXR5OiBmdW5jdGlvbiBzZWxlY3RDaXR5KHZhbCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLy8g55uj6IG95Z+O5biC5b6MLOWbnuWCs+S4gOWAi+acieWNgOWfn+eahOaWsOmZo+WIlwogICAgICB0aGlzLmFsbFN0b3JlRGF0YS5zb21lKGZ1bmN0aW9uIChzdG9yZURhdGEpIHsKICAgICAgICBpZiAodmFsID09PSBzdG9yZURhdGEuY2l0eV9uYW1lKSB7CiAgICAgICAgICBfdGhpcy5zZWxlY3RlZERhdGEgPSBBcnJheS5mcm9tKG5ldyBTZXQoc3RvcmVEYXRhLnN0b3Jlcy5tYXAoZnVuY3Rpb24gKGNpdHlEYXRhKSB7CiAgICAgICAgICAgIHJldHVybiBjaXR5RGF0YS5BZGRyZXNzLnNsaWNlKDMsIDYpOwogICAgICAgICAgfSkpKTsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgfSk7IC8vIGNvbnNvbGUubG9nKHRoaXMuc2VsZWN0ZWREYXRhKQoKICAgICAgdGhpcy5zZWxlY3RUb3duID0gdGhpcy5zZWxlY3RlZERhdGFbMF07CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["MapSearch.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,eAAA;AACA,EAAA,IADA,kBACA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,KAAA,YAAA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,KADA;AAEA,MAAA,UAAA,EAAA,IAFA;AAGA,MAAA,WAAA,EAAA,EAHA;AAIA,MAAA,UAAA,EAAA,EAJA;AAKA,MAAA,YAAA,EAAA;AALA,KAAA;AAOA,GAVA;AAWA,EAAA,KAAA,EAAA;AACA,IAAA,YAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA;AADA,GAXA;AAgBA,EAAA,QAAA,EAAA;AACA,IAAA,eADA,6BACA;AACA,UAAA,WAAA,GAAA,KAAA,WAAA,CAAA,IAAA,EAAA;;AACA,UAAA,CAAA,WAAA,EAAA;AACA,eAAA,KAAA,YAAA;AACA;;AACA,UAAA,UAAA,GAAA,KAAA,YAAA,CAAA,MAAA,CAAA,UAAA,IAAA,EAAA;AACA,YAAA,IAAA,CAAA,MAAA,CAAA,OAAA,CAAA,OAAA,CAAA,WAAA,MAAA,CAAA,CAAA,EAAA;AACA,iBAAA,IAAA;AACA;AACA,OAJA,CAAA;AAKA,aAAA,UAAA;AACA;AAZA,GAhBA;AA8BA,EAAA,KAAA,EAAA;AACA,IAAA,UADA,sBACA,GADA,EACA;AAAA;;AACA;AACA,WAAA,YAAA,CAAA,IAAA,CAAA,UAAA,SAAA,EAAA;AACA,YAAA,GAAA,KAAA,SAAA,CAAA,SAAA,EAAA;AACA,UAAA,KAAA,CAAA,YAAA,GAAA,KAAA,CAAA,IAAA,CAAA,IAAA,GAAA,CAAA,SAAA,CAAA,MAAA,CAAA,GAAA,CAAA,UAAA,QAAA,EAAA;AACA,mBAAA,QAAA,CAAA,OAAA,CAAA,KAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,WAFA,CAAA,CAAA,CAAA;AAGA,iBAAA,IAAA;AACA;AACA,OAPA,EAFA,CAUA;;AACA,WAAA,UAAA,GAAA,KAAA,YAAA,CAAA,CAAA,CAAA;AACA;AAbA;AA9BA,CAAA","sourcesContent":["<template>\n    <div class=\"row switcherMap-searchArea pt-5 pb-5 justify-content-start\">\n        <div class=\"col-md-2 dropdown city\">\n            <button class=\"btn btn-outline-secondary dropdown-toggle pl-3 pr-3 w-100\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                {{ selectCity }}\n            </button>\n            <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\" >\n                <a class=\"dropdown-item\" href=\"#\" @click=\"selectCity=`${city.city_name}`\" v-for=\"city in allStoreData\" :key=\"city.city_id\">{{ city.city_name }}</a>\n            </div>\n        </div>\n        <div class=\"col-md-2 dropdown county\">\n            <button class=\"btn btn-outline-secondary dropdown-toggle pl-4 pr-4 w-100\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                {{ selectTown }}\n            </button>\n            <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n                <a class=\"dropdown-item\" href=\"#\" @click=\"selectTown=`${town}`\" v-for=\"(town, index) in selectedData\" :key=\"index\">{{ town }}</a>\n            </div>\n        </div>\n        <div class=\"col-md-4 input-group flex-nowrap\">\n            <input type=\"text\" class=\"form-control rounded-left\" placeholder=\"請輸入街道\" aria-label=\"UserRoad\" aria-describedby=\"addon-wrapping\"\n              v-model=\"searchStore\"\n            >\n            <div class=\"input-group-prepend border-none\">\n                <span class=\"input-group-text bg-danger text-white rounded-right\" id=\"addon-wrapping\">搜尋</span>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n\nexport default {\n  data () {\n    console.log(this.allStoreData)\n    return {\n      selectCity: '全台灣',\n      selectTown: '鄉鎮',\n      searchStore: '',\n      searchData: '',\n      selectedData: []\n    }\n  },\n  props: {\n    allStoreData: {\n      type: Array\n    }\n  },\n  computed: {\n    filteredSellers () {\n      const searchStore = this.searchStore.trim()\n      if (!searchStore) {\n        return this.allStoreData\n      }\n      const sellersArr = this.allStoreData.filter(item => {\n        if (item.stores.Address.indexOf(searchStore) !== -1) {\n          return item\n        }\n      })\n      return sellersArr\n    }\n  },\n  watch: {\n    selectCity (val) {\n      // 監聽城市後,回傳一個有區域的新陣列\n      this.allStoreData.some(storeData => {\n        if (val === storeData.city_name) {\n          this.selectedData = Array.from(new Set(storeData.stores.map(cityData => {\n            return cityData.Address.slice(3, 6)\n          })))\n          return true\n        }\n      })\n      // console.log(this.selectedData)\n      this.selectTown = this.selectedData[0]\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dropdown-menu{\n  height: 200px;\n  overflow-y: scroll;\n}\n</style>\n"],"sourceRoot":"src/components/front_side"}]}