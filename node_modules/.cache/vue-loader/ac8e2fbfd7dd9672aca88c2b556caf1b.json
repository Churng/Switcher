{"remainingRequest":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuhsuanlee/Switcher/main_vue/src/components/front_side/MapSearch.vue?vue&type=style&index=0&id=41c49332&lang=scss&scoped=true&","dependencies":[{"path":"/Users/yuhsuanlee/Switcher/main_vue/src/components/front_side/MapSearch.vue","mtime":1590717017171},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouZHJvcGRvd24tbWVudXsKICBoZWlnaHQ6IDIwMHB4OwogIG92ZXJmbG93LXk6IHNjcm9sbDsKfQo="},{"version":3,"sources":["MapSearch.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA;AACA;AACA;AACA","file":"MapSearch.vue","sourceRoot":"src/components/front_side","sourcesContent":["<template>\n    <div class=\"row switcherMap-searchArea pt-5 pb-5 justify-content-start\">\n        <div class=\"col-md-2 dropdown city\">\n            <button class=\"btn btn-outline-secondary dropdown-toggle pl-3 pr-3 w-100\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                {{ selectCity }}\n            </button>\n            <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\" >\n                <a class=\"dropdown-item\" href=\"#\" @click=\"selectCity=`${city.city_name}`\" v-for=\"city in allStoreData\" :key=\"city.city_id\">{{ city.city_name }}</a>\n            </div>\n        </div>\n        <div class=\"col-md-2 dropdown county\">\n            <button class=\"btn btn-outline-secondary dropdown-toggle pl-4 pr-4 w-100\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                {{ selectTown }}\n            </button>\n            <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n                <a class=\"dropdown-item\" href=\"#\" @click=\"selectTown=`${town}`\" v-for=\"(town, index) in selectedData\" :key=\"index\">{{ town }}</a>\n            </div>\n        </div>\n        <div class=\"col-md-4 input-group flex-nowrap\">\n            <input type=\"text\" class=\"form-control rounded-left\" placeholder=\"請輸入街道\" aria-label=\"UserRoad\" aria-describedby=\"addon-wrapping\"\n              v-model=\"searchStore\"\n            >\n            <div class=\"input-group-prepend border-none\">\n                <span class=\"input-group-text bg-danger text-white rounded-right\" id=\"addon-wrapping\">搜尋</span>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n\nexport default {\n  data () {\n    console.log(this.allStoreData)\n    return {\n      selectCity: '全台灣',\n      selectTown: '鄉鎮',\n      searchStore: '',\n      searchData: '',\n      selectedData: []\n    }\n  },\n  props: {\n    allStoreData: {\n      type: Array\n    }\n  },\n  computed: {\n    filteredSellers () {\n      const searchStore = this.searchStore.trim()\n      if (!searchStore) {\n        return this.allStoreData\n      }\n      const sellersArr = this.allStoreData.filter(item => {\n        if (item.stores.Address.indexOf(searchStore) !== -1) {\n          return item\n        }\n      })\n      return sellersArr\n    }\n  },\n  watch: {\n    selectCity (val) {\n      // 監聽城市後,回傳一個有區域的新陣列\n      this.allStoreData.some(storeData => {\n        if (val === storeData.city_name) {\n          this.selectedData = Array.from(new Set(storeData.stores.map(cityData => {\n            return cityData.Address.slice(3, 6)\n          })))\n          return true\n        }\n      })\n      // console.log(this.selectedData)\n      this.selectTown = this.selectedData[0]\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dropdown-menu{\n  height: 200px;\n  overflow-y: scroll;\n}\n</style>\n"]}]}