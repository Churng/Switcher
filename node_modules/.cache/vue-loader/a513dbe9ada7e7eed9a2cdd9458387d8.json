{"remainingRequest":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuhsuanlee/Switcher/main_vue/src/components/back_side/RentalDetails.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/Users/yuhsuanlee/Switcher/main_vue/src/components/back_side/RentalDetails.vue","mtime":1592642320070},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5yZW50YWxEZXRhaWxDYXJkewogIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4wNSkgIWltcG9ydGFudDsKICAuY2FyZC1tYWluewogICAgYm94LXNoYWRvdzogMCA1cHggMTVweCByZ2JhKDAsIDAsIDAsIDAuMDUpICFpbXBvcnRhbnQ7CiAgfQp9Ci50eHRQb2ludHsKICBmb250LXNpemU6IDEycHg7Cn0K"},{"version":3,"sources":["RentalDetails.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RentalDetails.vue","sourceRoot":"src/components/back_side","sourcesContent":["<template>\n    <div class=\"use-instructionCard\">\n      <!-- 出租紀錄詳情 -->\n        <div class=\"container\">\n            <div class=\"row instructionCard justify-content-center align-items-center visible rentalDetailCard\">\n                <div class=\"col-6 pl-0 pr-0 h-50\">\n                    <div class=\"card-main border border-muted rounded bg-white overflow-auto orderBody h-100\">\n                        <div class=\"d-flex justify-content-start align-items-center\">\n                            <button type=\"button\" class=\"close\" aria-label=\"Close\">\n                                <span aria-hidden=\"true\" @click.prevent=\"changeDialogVisible\"><i class=\"el-icon-circle-close\"></i></span>\n                            </button>\n                        </div>\n                        <div class=\"card-body d-flex flex-column justify-content-center align-items-center\">\n                            <div class=\"cardImgArea w-100 d-flex align-items-center pb-2 mb-2\">\n                              <div class=\"w-50 d-flex flex-column justify-content-center align-items-center\">\n                                <div class=\"cardImgInfo\"><img :src=\"getSingleData[0].ImageUrl\" class=\"userImg w-100 h-100 rounded-circle\" alt=\"game\"></div>\n                                <p class=\"pt-2 mb-0\">{{getSingleData[0].Seller}}</p>\n                              </div>\n                              <div class=\"w-50 imgTxt text-center\">\n                                <p class=\"mb-0\">總租金：<span>{{getSingleData[0].Total}}</span></p>\n                                <p class=\"mb-0\">總押金：<span>{{getSingleData[0].Deposit}}</span></p>\n                                <p>交易門市：<span>{{getSingleData[0].Store}}門市</span></p>\n                              </div>\n                            </div>\n                            <div class=\"w-100 cardContent d-flex align-items-center pt-2 pb-2\" v-for=\"(item, index) in getSingleData\" :key=\"item.ProductId\">\n                              <h3 class=\"w-25 text-center font-weight-bold text-muted\">{{index+1}}</h3>\n                              <div class=\"w-75\">\n                                <p>商品名稱：<span>{{item.ProductName}}</span></p>\n                                <p>租借價格：<span>{{item.Price}}/天</span></p>\n                                <p>開始日期：<span>{{item.StartDate}}</span></p>\n                                <p>歸還日期：<span>{{item.EndDate}}</span></p>\n                              </div>\n                            </div>\n                        </div>\n                        <div class=\"card-footer\">\n                            <div class=\"sellerBtns\" v-if=\"getAllData.Status === '等待確認'\">\n                                <div class=\"d-flex justify-content-around\">\n                                  <el-button type=\"info\" plain @click.prevent=\"postOrderData(getAllData.Id, 1)\">取消訂單</el-button>\n                                  <el-button type=\"success\" plain @click.prevent=\"postOrderData(getAllData.Id, 2)\">完成訂單</el-button>\n                                </div>\n                                <p class=\"text-primary txtPoint mt-2\">*待買方歸還商品後即可點選'完成訂單'</p>\n                            </div>\n                            <h5 class=\"font-weight-bold text-center\" v-else>{{getAllData.Status}}</h5>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n  props: ['getAllData', 'getSingleData'],\n  methods: {\n    changeDialogVisible () {\n      this.$emit('changeDialogVisible')\n    },\n    postOrderData (Id, statusNum) {\n      const api = 'http://switcher.rocket-coding.com/api/order-status'\n      const token = localStorage.getItem('token')\n      this.$http.post(api, {\n        OrderId: Id,\n        Status: statusNum\n      },\n      {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }).then(res => {\n        this.refreshData(Id)\n      }).catch(err => {\n        this.errInfo(err)\n      })\n    },\n    errInfo (err) {\n      this.$notify.error({\n        title: '操作錯誤,請再試一次！',\n        message: `${err}`\n      })\n    },\n    openChatroom () {\n      this.$message('此功能尚未開發')\n    },\n    refreshData (Id) {\n      const api = `http://switcher.rocket-coding.com/api/order/${Id}`\n      const token = localStorage.getItem('token')\n      this.$http.get(api,\n        {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        }).then(res => {\n        this.$emit('changeStatus', res.data.order[0].Status, Id)\n      }).catch(err => {\n        this.errInfo(err)\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.rentalDetailCard{\n  background: rgba(0, 0, 0, 0.05) !important;\n  .card-main{\n    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05) !important;\n  }\n}\n.txtPoint{\n  font-size: 12px;\n}\n</style>\n"]}]}