{"remainingRequest":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuhsuanlee/Switcher/main_vue/src/views/back_side/MemberInfo/OrderSeller.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuhsuanlee/Switcher/main_vue/src/views/back_side/MemberInfo/OrderSeller.vue","mtime":1592981728611},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBSZW50YWxSZWNvcmQgZnJvbSAnQC9jb21wb25lbnRzL2JhY2tfc2lkZS9SZW50YWxSZWNvcmQnCmltcG9ydCBPcmRlclJlY29yZCBmcm9tICdAL2NvbXBvbmVudHMvYmFja19zaWRlL09yZGVyUmVjb3JkJwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgb3JkZXJEYXRhOiBbXSwKICAgICAgcmVudGFsRGF0YTogW10sCiAgICAgIHVzZXJEYXRhOiBbXSwKICAgICAgT3JkZXJFcnJvcjogZmFsc2UsCiAgICAgIFJlbnRhbEVycm9yOiBmYWxzZQogICAgfQogIH0sCiAgY29tcG9uZW50czogeyBSZW50YWxSZWNvcmQsIE9yZGVyUmVjb3JkIH0sCiAgY3JlYXRlZCAoKSB7CiAgICB0aGlzLmdldFVzZXJEYXRhKCkKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldE9yZGVyRGF0YSAoKSB7CiAgICAgIGNvbnN0IGFwaSA9ICdodHRwOi8vc3dpdGNoZXIucm9ja2V0LWNvZGluZy5jb20vYXBpL29yZGVycy9zZWxsZXInCiAgICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykKICAgICAgdGhpcy4kaHR0cC5nZXQoYXBpLAogICAgICAgIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWAKICAgICAgICAgIH0KICAgICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5vcmRlckRhdGEgPSByZXMuZGF0YS5vcmRlcnMKICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICBjb25zdCBlcnJPYmogPSBlcnIucmVzcG9uc2UKICAgICAgICBpZiAoZXJyT2JqLnN0YXR1cyA9PT0gNDA0ICYmIGVyck9iai5kYXRhLm1lc3NhZ2UgPT09ICfnhKHoqILllq7oqJjpjIQnKSB7CiAgICAgICAgICB0aGlzLk9yZGVyRXJyb3IgPSB0cnVlCiAgICAgICAgICByZXR1cm4gdGhpcy5PcmRlckVycm9yCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIGdldFJlbnRhbERhdGEgKCkgewogICAgICBjb25zdCBhcGkgPSAnaHR0cDovL3N3aXRjaGVyLnJvY2tldC1jb2RpbmcuY29tL2FwaS9vcmRlcnMvYnV5ZXInCiAgICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykKICAgICAgdGhpcy4kaHR0cC5nZXQoYXBpLAogICAgICAgIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWAKICAgICAgICAgIH0KICAgICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5yZW50YWxEYXRhID0gcmVzLmRhdGEub3JkZXJzCiAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgY29uc3QgZXJyT2JqID0gZXJyLnJlc3BvbnNlCiAgICAgICAgaWYgKGVyck9iai5zdGF0dXMgPT09IDQwNCAmJiBlcnJPYmouZGF0YS5tZXNzYWdlID09PSAn54Sh6KiC5Zau6KiY6YyEJykgewogICAgICAgICAgdGhpcy5SZW50YWxFcnJvciA9IHRydWUKICAgICAgICAgIHJldHVybiB0aGlzLlJlbnRhbEVycm9yCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIGdldFVzZXJEYXRhICgpIHsKICAgICAgY29uc3QgbWVuYmVySWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbWVuYmVySWQnKQogICAgICBjb25zdCBhcGkgPSBgaHR0cDovL3N3aXRjaGVyLnJvY2tldC1jb2RpbmcuY29tL2FwaS9tZW1iZXIvJHttZW5iZXJJZH1gCiAgICAgIHRoaXMuJGh0dHAuZ2V0KGFwaSkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMudXNlckRhdGEgPSByZXMuZGF0YS5tZW1iZXIKICAgICAgICB0aGlzLmdldFJlbnRhbERhdGEoKQogICAgICAgIHRoaXMuZ2V0T3JkZXJEYXRhKCkKICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICB0aGlzLiRtZXNzYWdlKGVycikKICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["OrderSeller.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"OrderSeller.vue","sourceRoot":"src/views/back_side/MemberInfo","sourcesContent":["<template>\n  <div class=\"OrderManagement\">\n    <div class=\"container\">\n      <nav aria-label=\"breadcrumb\">\n        <ol class=\"breadcrumb mb-4\">\n          <li class=\"breadcrumb-item\" @click.prevent=\"$router.push({name: 'SellerStore', params: '/sellerstore'})\">我的賣場</li>\n          <li class=\"breadcrumb-item active text-primary\" aria-current=\"page\">訂單管理</li>\n        </ol>\n      </nav>\n    </div>\n    <div class=\"container\">\n      <nav>\n        <div class=\"nav nav-tabs\" id=\"nav-tab\" role=\"tablist\">\n          <a\n            class=\"nav-item nav-link active\"\n            id=\"nav-rented-tab\"\n            data-toggle=\"tab\"\n            href=\"#nav-rented\"\n            role=\"tab\"\n            aria-controls=\"nav-rented\"\n            aria-selected=\"true\"\n          >出租紀錄</a>\n          <a\n            class=\"nav-item nav-link\"\n            id=\"nav-ordered-tab\"\n            data-toggle=\"tab\"\n            href=\"#nav-ordered\"\n            role=\"tab\"\n            aria-controls=\"nav-ordered\"\n            aria-selected=\"false\"\n          >訂購紀錄</a>\n        </div>\n      </nav>\n      <div class=\"tab-content order-record bg-light\" id=\"nav-tabContent-order\">\n        <div\n          class=\"tab-pane fade show active orderTab-pane\"\n          id=\"nav-rented\"\n          role=\"tabpanel\"\n          aria-labelledby=\"nav-rented-tab\"\n        >\n          <div class=\"pt-5 d-flex justify-content-center\" v-if=\"OrderError\"><h2>尚無出租紀錄</h2></div>\n          <RentalRecord :orderData=\"orderData\" :userData=\"userData\" v-else/>\n        </div>\n        <div\n          class=\"tab-pane fade orderTab-pane\"\n          id=\"nav-ordered\"\n          role=\"tabpanel\"\n          aria-labelledby=\"nav-ordered-tab\"\n        >\n          <div class=\"pt-5 d-flex justify-content-center\" v-if=\"RentalError\"><h2>尚無訂購紀錄</h2></div>\n          <OrderRecord :rentalData=\"rentalData\" :userData=\"userData\" v-else/>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport RentalRecord from '@/components/back_side/RentalRecord'\nimport OrderRecord from '@/components/back_side/OrderRecord'\n\nexport default {\n  data () {\n    return {\n      orderData: [],\n      rentalData: [],\n      userData: [],\n      OrderError: false,\n      RentalError: false\n    }\n  },\n  components: { RentalRecord, OrderRecord },\n  created () {\n    this.getUserData()\n  },\n  methods: {\n    getOrderData () {\n      const api = 'http://switcher.rocket-coding.com/api/orders/seller'\n      const token = localStorage.getItem('token')\n      this.$http.get(api,\n        {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        }).then(res => {\n        this.orderData = res.data.orders\n      }).catch(err => {\n        const errObj = err.response\n        if (errObj.status === 404 && errObj.data.message === '無訂單記錄') {\n          this.OrderError = true\n          return this.OrderError\n        }\n      })\n    },\n    getRentalData () {\n      const api = 'http://switcher.rocket-coding.com/api/orders/buyer'\n      const token = localStorage.getItem('token')\n      this.$http.get(api,\n        {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        }).then(res => {\n        this.rentalData = res.data.orders\n      }).catch(err => {\n        const errObj = err.response\n        if (errObj.status === 404 && errObj.data.message === '無訂單記錄') {\n          this.RentalError = true\n          return this.RentalError\n        }\n      })\n    },\n    getUserData () {\n      const menberId = localStorage.getItem('menberId')\n      const api = `http://switcher.rocket-coding.com/api/member/${menberId}`\n      this.$http.get(api).then(res => {\n        this.userData = res.data.member\n        this.getRentalData()\n        this.getOrderData()\n      }).catch(err => {\n        this.$message(err)\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.table td{\n  vertical-align: inherit;\n}\n.orderTab-pane{\n  height: 100vh;\n  overflow-y: scroll;\n}\n</style>\n"]}]}