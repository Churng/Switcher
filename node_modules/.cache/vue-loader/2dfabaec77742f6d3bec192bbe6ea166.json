{"remainingRequest":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuhsuanlee/Switcher/main_vue/src/components/back_side/EditProduct.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuhsuanlee/Switcher/main_vue/src/components/back_side/EditProduct.vue","mtime":1591781050875},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBwcm9kdWN0RGF0YTogW10KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEFsbFByb2R1Y3QgKCkgewogICAgICBjb25zdCBhcGkgPSAnaHR0cDovL3N3aXRjaGVyLnJvY2tldC1jb2RpbmcuY29tL2FwaS9wcm9kdWN0L2FkbWluL2FsbCcKICAgICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKQogICAgICB0aGlzLiRodHRwCiAgICAgICAgLmdldChhcGksIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWAKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIHRoaXMucHJvZHVjdERhdGEgPSByZXNwb25zZS5kYXRhLnByb2R1Y3RzCiAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnByb2R1Y3REYXRhKQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpCiAgICAgICAgfSkKICAgIH0sCiAgICBkZWxldGVQcm9kdWN0IChJZCkgeyAvLyDoroDlj5Yga2V5IOizh+aWme+8jOWOu+WIqumZpOeUouWTgQogICAgICBjb25zdCB2bSA9IHRoaXMKICAgICAgY29uc29sZS5sb2codGhpcykKICAgICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKQogICAgICBjb25zdCBoZWFkZXJzID0gewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gCiAgICAgICAgfQogICAgICB9CiAgICAgIGNvbnN0IGFwaSA9IGBodHRwOi8vc3dpdGNoZXIucm9ja2V0LWNvZGluZy5jb20vYXBpL3Byb2R1Y3QvZGVsZXRlLyR7SWR9YAogICAgICB0aGlzLiRodHRwLmRlbGV0ZShhcGksIGhlYWRlcnMpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHZtLmdldEFsbFByb2R1Y3QoKS8vIOabtOaWsOeUouWTgeWIl+ihqAogICAgICB9KQogICAgfQogIH0sCiAgY3JlYXRlZCAoKSB7CiAgICB0aGlzLmdldEFsbFByb2R1Y3QoKQogIH0KCn0K"},{"version":3,"sources":["EditProduct.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"EditProduct.vue","sourceRoot":"src/components/back_side","sourcesContent":["<template>\n    <div class=\"mx-auto\">\n      <el-backtop :bottom=\"60\"></el-backtop>\n        <ul class=\"row switcherStore-body list-unstyled flex-wrap pt-5 pb-4\" >\n            <li class=\"col-10 col-sm-6 col-md-6 col-xl-3 col-lg-4\" v-for=\"data in productData\" :key=\"data.Id\">\n                <div class=\"card mb-4\">\n                    <img :src=\"data.Images[0]\" class=\"card-img-top\" alt=\"gameHost\">\n                    <div class=\"card-body\">\n                        <div class=\"card-text\">\n                            <h3>{{data.Name}}</h3>\n                            <div class=\"card-text-top d-flex justify-content-between\">\n                                <div class=\"card-mainTxt\">\n                                    <span class=\"location mr-2\">{{data.City}}</span>\n                                    <span :class=\"data.Status=='可出租' ? 'isLease-icon':'notLease'\"><font-awesome-icon icon=\"circle\"/></span>\n                                    <span class=\"isLease\">{{data.Status}}</span>\n                                </div>\n                            </div>\n                            <div class=\"card-text-bottom d-flex justify-content-between align-items-baseline mb-2\">\n                                <div class=\"onDate\">\n                                    <span>上架日期</span>\n                                    <span>{{data.PublishDate}}</span>\n                                </div>\n                                <div class=\"priceArea\">\n                                    <p class=\"mb-0\">租金<span>{{data.Price}}</span>元/日</p>\n                                </div>\n                            </div>\n                            <div class=\"Edit-Deletebutton\">\n                                <el-button type=\"info\" icon=\"el-icon-edit\" class=\"editbutton\" plain ></el-button>\n                                <el-button type=\"info\" icon=\"el-icon-delete\" @click=\"deleteProduct(data.Id)\" plain ></el-button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </li>\n        </ul>\n    </div>\n</template>\n<script>\n\nexport default {\n  data () {\n    return {\n      productData: []\n    }\n  },\n  methods: {\n    getAllProduct () {\n      const api = 'http://switcher.rocket-coding.com/api/product/admin/all'\n      const token = localStorage.getItem('token')\n      this.$http\n        .get(api, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        })\n        .then(response => {\n          this.productData = response.data.products\n          console.log(this.productData)\n        })\n        .catch(function (error) {\n          console.log(error)\n        })\n    },\n    deleteProduct (Id) { // 讀取 key 資料，去刪除產品\n      const vm = this\n      console.log(this)\n      const token = localStorage.getItem('token')\n      const headers = {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }\n      const api = `http://switcher.rocket-coding.com/api/product/delete/${Id}`\n      this.$http.delete(api, headers).then(response => {\n        vm.getAllProduct()// 更新產品列表\n      })\n    }\n  },\n  created () {\n    this.getAllProduct()\n  }\n\n}\n</script>\n\n<style lang=\"scss\" scoped>\n/*商品卡*/\n.card img{\n    transition: all .25s ease-in-out;\n    height: 190px;\n}\n.card:hover img{\n    transform: scale(0.95);\n}\n\n.card-body{\n    padding: 1rem 1rem 0rem;\n   .card-text{\n        text-align: start;\n        h3{\n        position: relative;\n        font-size: 22px;\n      @media (max-width: 767px){\n                 font-size: 20px;\n            }\n        &::before{\n            content: '';\n            width: 3px;\n            height: 100%;\n            background-color: red;\n            position: absolute;\n            top:0;\n            left: -10px;\n            }\n        }\n        .card-text-top{\n            font-size: 14px;\n        }\n        .onDate{\n            font-size: 12px;\n        }\n        .priceArea{\n            color: orange;\n            font-size: 18px;\n            @media (max-width: 767px){\n                 font-size: 12px;\n            }\n        }\n    }\n}\n.isLease-icon{\n    color: orange;\n}\n.notLease{\n    color: blue; //已出租時icon顏色\n}\n.card{\n    cursor: pointer;\n    &:hover{\n        box-shadow: 0 1px 0 rgba(4,0,0,0.2);\n    }\n    img{\n        width: 100%;\n    }\n}\n\n/*特價時 card-text-top 加上*/\n.originalPrice{\n    font-size: 12px;\n    text-decoration: line-through\n}\n\n/*編輯與刪除按鈕*/\n.Edit-Deletebutton{\n    display: flex;\n    justify-content: space-between;\n    padding-bottom: 15px;\n    .product-edit, .product-deleted{\n        width: 150px;\n    }\n}\n\n.editbutton{\n  width: 180px;\n  background:#e9ecef;\n  border: #EBEEF5;\n}\n</style>\n"]}]}