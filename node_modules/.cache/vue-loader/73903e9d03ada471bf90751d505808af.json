{"remainingRequest":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuhsuanlee/Switcher/main_vue/src/components/front_side/ChooseProduct.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuhsuanlee/Switcher/main_vue/src/components/front_side/ChooseProduct.vue","mtime":1591587943664},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIHBpY2tlck9wdGlvbnM6IHsKICAgICAgICBzaG9ydGN1dHM6IFt7CiAgICAgICAgICB0ZXh0OiAn5pyA6L+R5LiA5ZGoJywKICAgICAgICAgIG9uQ2xpY2sgKHBpY2tlcikgewogICAgICAgICAgICBjb25zdCBlbmQgPSBuZXcgRGF0ZSgpCiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoKQogICAgICAgICAgICBzdGFydC5zZXRUaW1lKHN0YXJ0LmdldFRpbWUoKSAtIDM2MDAgKiAxMDAwICogMjQgKiA3KQogICAgICAgICAgICBwaWNrZXIuJGVtaXQoJ3BpY2snLCBbc3RhcnQsIGVuZF0pCiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgdGV4dDogJ+acgOi/keS4gOS4quaciCcsCiAgICAgICAgICBvbkNsaWNrIChwaWNrZXIpIHsKICAgICAgICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUoKQogICAgICAgICAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKCkKICAgICAgICAgICAgc3RhcnQuc2V0VGltZShzdGFydC5nZXRUaW1lKCkgLSAzNjAwICogMTAwMCAqIDI0ICogMzApCiAgICAgICAgICAgIHBpY2tlci4kZW1pdCgncGljaycsIFtzdGFydCwgZW5kXSkKICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICB0ZXh0OiAn5pyA6L+R5LiJ5Liq5pyIJywKICAgICAgICAgIG9uQ2xpY2sgKHBpY2tlcikgewogICAgICAgICAgICBjb25zdCBlbmQgPSBuZXcgRGF0ZSgpCiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoKQogICAgICAgICAgICBzdGFydC5zZXRUaW1lKHN0YXJ0LmdldFRpbWUoKSAtIDM2MDAgKiAxMDAwICogMjQgKiA5MCkKICAgICAgICAgICAgcGlja2VyLiRlbWl0KCdwaWNrJywgW3N0YXJ0LCBlbmRdKQogICAgICAgICAgfQogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIHZhbHVlMTogJycsCiAgICAgIHF1YW50aXR5OiAwCiAgICB9CiAgfSwKICBwcm9wczogWydwcm9kdWN0JywgJ2xvZ2luQ2FydCddLAogIG1ldGhvZHM6IHsKICAgIGlzTG9naW4gKCkgewogICAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpCiAgICAgIGlmICghdG9rZW4pIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2xvZ2luJykKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoKHRoaXMudmFsdWUxID09PSAnJyAmJiB0aGlzLnF1YW50aXR5ID09PSAwKSB8fCAodGhpcy52YWx1ZTEgPT09ICcnKSB8fCAodGhpcy5xdWFudGl0eSA9PT0gMCkpIHsKICAgICAgICAgIHRoaXMub3BlbkFsZXJ0KCkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5wb3N0RGF0YSgpCiAgICAgICAgICByZXR1cm4gdGhpcy4kcm91dGVyLnB1c2goJy9jYXJ0TGlzdCcpCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgcG9zdERhdGEgKCkgewogICAgICBjb25zdCBhcGkgPSAnaHR0cDovL3N3aXRjaGVyLnJvY2tldC1jb2RpbmcuY29tL2FwaS9jYXJ0JwogICAgICB0aGlzLiRodHRwLnBvc3QoYXBpLCB7CiAgICAgICAgUHJvZHVjdElkOiB0aGlzLnByb2R1Y3RbMF0uSWQsCiAgICAgICAgUXVhbnRpdHk6IHRoaXMucXVhbnRpdHksCiAgICAgICAgU3RhcnREYXRlOiB0aGlzLnZhbHVlMVswXSwKICAgICAgICBFbmREYXRlOiB0aGlzLnZhbHVlMVsxXQogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgY29uc29sZS5sb2coJ3Bvc3QnLCByZXMpCiAgICAgIH0pCiAgICB9LAogICAgb3BlbkFsZXJ0ICgpIHsKICAgICAgdGhpcy4kZW1pdCgnb3BlbkZhdGVyJywgdGhpcy5sb2dpbkNhcnQgPT09IHRydWUpCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["ChooseProduct.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ChooseProduct.vue","sourceRoot":"src/components/front_side","sourcesContent":["<template>\n    <div class=\"columns-choose\">\n        <div class=\"choosed\">\n            <div class=\"rentDate\">\n                <div>請選擇日期 : </div>\n                <div class=\"d-flex align-items-baseline mt-3\">\n                    <el-date-picker\n                      v-model=\"value1\"\n                      type=\"daterange\"\n                      value-format=\"yyyy-MM-dd HH:mm:ss\"\n                      range-separator=\"至\"\n                      start-placeholder=\"开始日期\"\n                      end-placeholder=\"结束日期\">\n                  </el-date-picker>\n                  <!-- <p class=\"total-rentDate ml-2\">共<span>30</span>日</p> -->\n                </div>\n            </div>\n            <div class=\"quantity d-flex align-items-baseline mt-3 mb-3\">\n                <p class=\"mr-4\">商品數量</p>\n                <el-select v-model=\"quantity\" placeholder=\"请選擇數量\">\n                  <el-option\n                    v-for=\"(item, index) in product[0].Quantity\"\n                    :key=\"index\"\n                    :label=\"item\"\n                    :value=\"index\">\n                  </el-option>\n                </el-select>\n            </div>\n            <div class=\"columns-btnArea mb-4\">\n                <button type=\"button\" class=\"btn btn-outline-warning w-100 mb-3\">賣家聊聊</button>\n                <button type=\"button\" class=\"btn btn-warning w-100\" @click=\"isLogin\" v-if=\"product[0].Status==='可出租'\">我要租借</button>\n                <button type=\"button\" class=\"btn btn-secondary w-100\" disabled v-else>我要租借</button>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      pickerOptions: {\n        shortcuts: [{\n          text: '最近一周',\n          onClick (picker) {\n            const end = new Date()\n            const start = new Date()\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7)\n            picker.$emit('pick', [start, end])\n          }\n        }, {\n          text: '最近一个月',\n          onClick (picker) {\n            const end = new Date()\n            const start = new Date()\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30)\n            picker.$emit('pick', [start, end])\n          }\n        }, {\n          text: '最近三个月',\n          onClick (picker) {\n            const end = new Date()\n            const start = new Date()\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 90)\n            picker.$emit('pick', [start, end])\n          }\n        }]\n      },\n      value1: '',\n      quantity: 0\n    }\n  },\n  props: ['product', 'loginCart'],\n  methods: {\n    isLogin () {\n      const token = localStorage.getItem('token')\n      if (!token) {\n        this.$router.push('/login')\n      } else {\n        if ((this.value1 === '' && this.quantity === 0) || (this.value1 === '') || (this.quantity === 0)) {\n          this.openAlert()\n        } else {\n          this.postData()\n          return this.$router.push('/cartList')\n        }\n      }\n    },\n    postData () {\n      const api = 'http://switcher.rocket-coding.com/api/cart'\n      this.$http.post(api, {\n        ProductId: this.product[0].Id,\n        Quantity: this.quantity,\n        StartDate: this.value1[0],\n        EndDate: this.value1[1]\n      }).then(res => {\n        console.log('post', res)\n      })\n    },\n    openAlert () {\n      this.$emit('openFater', this.loginCart === true)\n    }\n  }\n}\n</script>\n"]}]}