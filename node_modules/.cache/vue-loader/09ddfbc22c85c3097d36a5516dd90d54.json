{"remainingRequest":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuhsuanlee/Switcher/main_vue/src/components/front_side/MapSearch.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuhsuanlee/Switcher/main_vue/src/components/front_side/MapSearch.vue","mtime":1590717017171},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSAoKSB7CiAgICBjb25zb2xlLmxvZyh0aGlzLmFsbFN0b3JlRGF0YSkKICAgIHJldHVybiB7CiAgICAgIHNlbGVjdENpdHk6ICflhajlj7DngaMnLAogICAgICBzZWxlY3RUb3duOiAn6YSJ6Y6uJywKICAgICAgc2VhcmNoU3RvcmU6ICcnLAogICAgICBzZWFyY2hEYXRhOiAnJywKICAgICAgc2VsZWN0ZWREYXRhOiBbXQogICAgfQogIH0sCiAgcHJvcHM6IHsKICAgIGFsbFN0b3JlRGF0YTogewogICAgICB0eXBlOiBBcnJheQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGZpbHRlcmVkU2VsbGVycyAoKSB7CiAgICAgIGNvbnN0IHNlYXJjaFN0b3JlID0gdGhpcy5zZWFyY2hTdG9yZS50cmltKCkKICAgICAgaWYgKCFzZWFyY2hTdG9yZSkgewogICAgICAgIHJldHVybiB0aGlzLmFsbFN0b3JlRGF0YQogICAgICB9CiAgICAgIGNvbnN0IHNlbGxlcnNBcnIgPSB0aGlzLmFsbFN0b3JlRGF0YS5maWx0ZXIoaXRlbSA9PiB7CiAgICAgICAgaWYgKGl0ZW0uc3RvcmVzLkFkZHJlc3MuaW5kZXhPZihzZWFyY2hTdG9yZSkgIT09IC0xKSB7CiAgICAgICAgICByZXR1cm4gaXRlbQogICAgICAgIH0KICAgICAgfSkKICAgICAgcmV0dXJuIHNlbGxlcnNBcnIKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBzZWxlY3RDaXR5ICh2YWwpIHsKICAgICAgLy8g55uj6IG95Z+O5biC5b6MLOWbnuWCs+S4gOWAi+acieWNgOWfn+eahOaWsOmZo+WIlwogICAgICB0aGlzLmFsbFN0b3JlRGF0YS5zb21lKHN0b3JlRGF0YSA9PiB7CiAgICAgICAgaWYgKHZhbCA9PT0gc3RvcmVEYXRhLmNpdHlfbmFtZSkgewogICAgICAgICAgdGhpcy5zZWxlY3RlZERhdGEgPSBBcnJheS5mcm9tKG5ldyBTZXQoc3RvcmVEYXRhLnN0b3Jlcy5tYXAoY2l0eURhdGEgPT4gewogICAgICAgICAgICByZXR1cm4gY2l0eURhdGEuQWRkcmVzcy5zbGljZSgzLCA2KQogICAgICAgICAgfSkpKQogICAgICAgICAgcmV0dXJuIHRydWUKICAgICAgICB9CiAgICAgIH0pCiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuc2VsZWN0ZWREYXRhKQogICAgICB0aGlzLnNlbGVjdFRvd24gPSB0aGlzLnNlbGVjdGVkRGF0YVswXQogICAgfQogIH0KfQo="},{"version":3,"sources":["MapSearch.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MapSearch.vue","sourceRoot":"src/components/front_side","sourcesContent":["<template>\n    <div class=\"row switcherMap-searchArea pt-5 pb-5 justify-content-start\">\n        <div class=\"col-md-2 dropdown city\">\n            <button class=\"btn btn-outline-secondary dropdown-toggle pl-3 pr-3 w-100\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                {{ selectCity }}\n            </button>\n            <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\" >\n                <a class=\"dropdown-item\" href=\"#\" @click=\"selectCity=`${city.city_name}`\" v-for=\"city in allStoreData\" :key=\"city.city_id\">{{ city.city_name }}</a>\n            </div>\n        </div>\n        <div class=\"col-md-2 dropdown county\">\n            <button class=\"btn btn-outline-secondary dropdown-toggle pl-4 pr-4 w-100\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                {{ selectTown }}\n            </button>\n            <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n                <a class=\"dropdown-item\" href=\"#\" @click=\"selectTown=`${town}`\" v-for=\"(town, index) in selectedData\" :key=\"index\">{{ town }}</a>\n            </div>\n        </div>\n        <div class=\"col-md-4 input-group flex-nowrap\">\n            <input type=\"text\" class=\"form-control rounded-left\" placeholder=\"請輸入街道\" aria-label=\"UserRoad\" aria-describedby=\"addon-wrapping\"\n              v-model=\"searchStore\"\n            >\n            <div class=\"input-group-prepend border-none\">\n                <span class=\"input-group-text bg-danger text-white rounded-right\" id=\"addon-wrapping\">搜尋</span>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n\nexport default {\n  data () {\n    console.log(this.allStoreData)\n    return {\n      selectCity: '全台灣',\n      selectTown: '鄉鎮',\n      searchStore: '',\n      searchData: '',\n      selectedData: []\n    }\n  },\n  props: {\n    allStoreData: {\n      type: Array\n    }\n  },\n  computed: {\n    filteredSellers () {\n      const searchStore = this.searchStore.trim()\n      if (!searchStore) {\n        return this.allStoreData\n      }\n      const sellersArr = this.allStoreData.filter(item => {\n        if (item.stores.Address.indexOf(searchStore) !== -1) {\n          return item\n        }\n      })\n      return sellersArr\n    }\n  },\n  watch: {\n    selectCity (val) {\n      // 監聽城市後,回傳一個有區域的新陣列\n      this.allStoreData.some(storeData => {\n        if (val === storeData.city_name) {\n          this.selectedData = Array.from(new Set(storeData.stores.map(cityData => {\n            return cityData.Address.slice(3, 6)\n          })))\n          return true\n        }\n      })\n      // console.log(this.selectedData)\n      this.selectTown = this.selectedData[0]\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dropdown-menu{\n  height: 200px;\n  overflow-y: scroll;\n}\n</style>\n"]}]}