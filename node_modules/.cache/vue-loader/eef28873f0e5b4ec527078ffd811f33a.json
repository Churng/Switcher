{"remainingRequest":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuhsuanlee/Switcher/main_vue/src/components/back_side/AddProductphoto.vue?vue&type=style&index=0&id=323190f8&lang=scss&scoped=true&","dependencies":[{"path":"/Users/yuhsuanlee/Switcher/main_vue/src/components/back_side/AddProductphoto.vue","mtime":1592797222003},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5OZXdQcm9kdWN0SW1newogICAgaGVpZ2h0OiAxMDB2aAp9Ci5hdmF0YXItdXBsb2FkZXJ7CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKfQouZWwtdXBsb2FkIHsKICBib3JkZXI6IDFweCBkYXNoZWQgI2Q5ZDlkOTsKICBib3JkZXItcmFkaXVzOiA2cHg7CiAgY3Vyc29yOiBwb2ludGVyOwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBvdmVyZmxvdzogaGlkZGVuOwp9Ci5lbC11cGxvYWQ6aG92ZXIgewogIGJvcmRlci1jb2xvcjogIzQwOUVGRjsKfQouYXZhdGFyLXVwbG9hZGVyLWljb246aG92ZXIgIHsKICBib3JkZXI6IDVweCBkb3R0ZWQgcmVkOwp9Ci5hdmF0YXItdXBsb2FkZXItaWNvbiB7CiAgZm9udC1zaXplOiAyOHB4OwogIGNvbG9yOiAjOGM5MzlkOwogIHdpZHRoOiAyNTBweDsKICBoZWlnaHQ6IDI1MHB4OwogIGxpbmUtaGVpZ2h0OiAyNTBweDsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgYm9yZGVyOiA1cHggZG90dGVkIGJsYWNrOwp9Ci5hdmF0YXItdXBsb2FkZXJ7CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKfQouZWwtdXBsb2FkIHsKICBib3JkZXI6IDFweCBkYXNoZWQgI2Q5ZDlkOTsKICBib3JkZXItcmFkaXVzOiA2cHg7CiAgY3Vyc29yOiBwb2ludGVyOwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBvdmVyZmxvdzogaGlkZGVuOwp9Ci5lbC11cGxvYWQ6aG92ZXIgewogIGJvcmRlci1jb2xvcjogIzQwOUVGRjsKfQouYXZhdGFyLXVwbG9hZGVyLWljb24gewogIGZvbnQtc2l6ZTogMjhweDsKICBjb2xvcjogIzhjOTM5ZDsKICB3aWR0aDogMjUwcHg7CiAgaGVpZ2h0OiAyNTBweDsKICBsaW5lLWhlaWdodDogMjUwcHg7CiAgdGV4dC1hbGlnbjogY2VudGVyOwp9Ci5hdmF0YXIgewogIHdpZHRoOiAyNTBweDsKICBoZWlnaHQ6IDI1MHB4OwogIGRpc3BsYXk6IGJsb2NrOwp9Cg=="},{"version":3,"sources":["AddProductphoto.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddProductphoto.vue","sourceRoot":"src/components/back_side","sourcesContent":["<template>\n    <div class=\"container bg-light\">\n        <div class=\"NewProductImg px-5 py-5\" >\n            <h3 class=\"text-center mt-5 mb-5\">上傳商品圖片</h3>\n            <el-upload\n              class=\"avatar-uploader\"\n              action = \"upload\"\n              :show-file-list=\"false\"\n              :on-success=\"handleAvatarSuccess\"\n              :before-upload=\"beforeAvatarUpload\"\n              ref=\"upload\"\n              :on-change=\"imgSaveToUrl\"\n              >\n              <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\">\n              <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n            </el-upload>\n            <div class=\"Button mx-auto d-flex justify-content-center mt-5 pt-3\">\n              <button type=\"button\" class=\"btn btn-warning\" @click.prevent=\"$router.go(-1)\">上一頁</button>\n              <button type=\"button\" class=\"btn btn-primary ml-3\"  @click.prevent=\"uploadFile()\">確定</button>\n              <button type=\"button\" class=\"btn btn-warning ml-3\"  @click.prevent=\"$router.push('/sellerstore')\">返回賣場</button>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nexport default {\n  data () {\n    return {\n      imageUrl: '',\n      file: ''\n    }\n  },\n  inject: ['reload'],\n  props: ['ProductImages'],\n  methods: {\n    handleAvatarSuccess (res, file) {\n      this.imageUrl = URL.createObjectURL(file.raw)\n    },\n    beforeAvatarUpload (file) {\n      const isJPG = file.type === 'image/jpeg'\n      const isLt2M = file.size / 3072 / 3072 < 2\n      if (!isJPG) {\n        this.$message.error('上傳圖片只能是 JPG 格式!')\n      }\n      if (!isLt2M) {\n        this.$message.error('上傳頭像圖片大小不能超过 2MB!')\n      }\n      // 校验成功上传文件\n      if (isJPG && isLt2M === true) {\n        console.log(file)\n        this.file = file\n      }\n      return isJPG && isLt2M\n    },\n    // 选取图片后自动回调，里面可以获取到文件\n    imgSaveToUrl (file) {\n      /* 本地预览方法 */\n      const URL = window.URL || window.webkitURL\n      this.imageUrl = URL.createObjectURL(file.raw)\n      // 转换后的地址为 blob:http://xxx/7bf54338-74bb-47b9-9a7f-7a7093c716b5\n    },\n    uploadFile () {\n      const id = this.$route.params.id\n      const token = localStorage.getItem('token')\n      const form = new FormData()\n      form.append('upload', this.file)\n      const api = `http://switcher.rocket-coding.com/api/product/upload/${id}`\n      this.$http.post(api, form, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then(res => {\n        this.photoSuccess(res.data.message)\n      }).catch(err => {\n        this.$message(err)\n      })\n    },\n    photoSuccess (msg) {\n      this.$notify({\n        title: msg,\n        type: 'success'\n      })\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.NewProductImg{\n    height: 100vh\n}\n.avatar-uploader{\n  display: flex;\n  justify-content: center;\n}\n.el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.el-upload:hover {\n  border-color: #409EFF;\n}\n.avatar-uploader-icon:hover  {\n  border: 5px dotted red;\n}\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 250px;\n  height: 250px;\n  line-height: 250px;\n  text-align: center;\n  border: 5px dotted black;\n}\n.avatar-uploader{\n  display: flex;\n  justify-content: center;\n}\n.el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.el-upload:hover {\n  border-color: #409EFF;\n}\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 250px;\n  height: 250px;\n  line-height: 250px;\n  text-align: center;\n}\n.avatar {\n  width: 250px;\n  height: 250px;\n  display: block;\n}\n</style>\n"]}]}