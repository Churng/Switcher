{"remainingRequest":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuhsuanlee/Switcher/main_vue/src/views/back_side/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuhsuanlee/Switcher/main_vue/src/views/back_side/Login.vue","mtime":1592981728609},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhsuanlee/Switcher/main_vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0xvZ2luJywKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIOeZu+WFpempl+itieizh+aWmee1kOaniyAtIOeJqeS7tgogICAgICB1c2VyOiB7CiAgICAgICAgRW1haWw6IG51bGwsIC8vIOW4s+iZnwogICAgICAgIFBhc3N3b3JkOiBudWxsLAogICAgICAgIHJlUGFzc3dvcmQ6IG51bGwsCiAgICAgICAgQWRkcmVzczogbnVsbCwKICAgICAgICBJZGVudGl0eTogbnVsbCwKICAgICAgICBQaG9uZTogbnVsbCwKICAgICAgICBOYW1lOiBudWxsLAogICAgICAgIGVycm9yOiBmYWxzZQogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIEVtYWlsOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6KuL6Ly45YWl5biz6JmfJywgdHJpZ2dlcjogJ2JsdXInIH0sCiAgICAgICAgICB7IHR5cGU6ICdlbWFpbCcsIG1lc3NhZ2U6ICdleGFtcGxlQG1haWwuY29tJywgdHJpZ2dlcjogWydibHVyJywgJ2NoYW5nZSddIH0KICAgICAgICBdLAogICAgICAgIFBhc3N3b3JkOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6KuL6Ly45YWl5a+G56K8JywgdHJpZ2dlcjogJ2JsdXInIH0KICAgICAgICBdLAogICAgICAgIHJlcGFzc3dvcmQ6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfoq4vlho3mrKHovLjlhaXlr4bnorwnLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIF0sCiAgICAgICAgTmFtZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+iri+i8uOWFpeeUqOaItuWQjeeosScsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgXSwKICAgICAgICBQaG9uZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+iri+i8uOWFpeato+eiuumbu+ipseiZn+eivCcsIHRyaWdnZXI6ICdibHVyJyB9LAogICAgICAgICAgeyB0eXBlOiAnbnVtYmVyJywgbWVzc2FnZTogJ+mbu+ipseiZn+eivOW/hemgiOeCuuaVuOWtlycgfQogICAgICAgIF0sCiAgICAgICAgSWRlbnRpdHk6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfoq4vovLjlhaXouqvliIborYnomZ/norwnLCB0cmlnZ2VyOiAnYmx1cicgfSwKICAgICAgICAgIHsgbWF4OiAxMCwgbWVzc2FnZTogJ+iri+i8uOWFpeato+eiuui6q+WIhuitieiZn+eivO+8mkExMjM0NTY3ODknLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIF0sCiAgICAgICAgQWRkcmVzczogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+iri+i8uOWFpeWcsOWdgCcsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgXQogICAgICB9LAogICAgICBjb25uZWN0ZWQ6IGZhbHNlCiAgICB9CiAgfSwKICBtb3VudGVkICgpIHsKICAgIHdpbmRvdy5mYkFzeW5jSW5pdCA9IGZ1bmN0aW9uIGluaXQgKCkgewogICAgICB3aW5kb3cuRkIuaW5pdCh7CiAgICAgICAgYXBwSWQ6ICc1ODI0MjU2NzI2ODM0NjUnLAogICAgICAgIGNvb2tpZTogdHJ1ZSwKICAgICAgICB4ZmJtbDogdHJ1ZSwKICAgICAgICB2ZXJzaW9uOiAndjcuMCcKICAgICAgfSkKICAgICAgd2luZG93LkZCLkFwcEV2ZW50cy5sb2dQYWdlVmlldygpCiAgICB9CiAgICB0aGlzLmZiSW5pdChkb2N1bWVudCwgJ3NjcmlwdCcsICdmYWNlYm9vay1qc3NkaycpCiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dpbiAoKSB7CiAgICAgIGNvbnN0IHZtID0gdGhpcwogICAgICBjb25zdCBhcGkgPSAnaHR0cDovL3N3aXRjaGVyLnJvY2tldC1jb2RpbmcuY29tL2xvZ2luJwogICAgICAvLyDlhaflsaTmmK/kvb/nlKjnrq3poK3lh73lvI/vvIzmspLmnInoh6rlt7HnmoQgdGhpcyDmiYDku6XlpJblsaTlhYjlrqPlkYogdGhpcwogICAgICB0aGlzLiRodHRwLnBvc3QoYXBpLCB7CiAgICAgICAgRW1haWw6IHRoaXMudXNlci5FbWFpbCwKICAgICAgICBQYXNzd29yZDogdGhpcy51c2VyLlBhc3N3b3JkCiAgICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ21lbmJlcklkJywgcmVzcG9uc2UuZGF0YS5pZCkKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5yZXN1bHQpIHsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHJlc3BvbnNlLmRhdGEudG9rZW4pCiAgICAgICAgICB0aGlzLmdldENhcnREYXRhKCkKICAgICAgICAgIHRoaXMubG9naW5TdWNjZXNzKCkKICAgICAgICAgIHRoaXMuZ2V0VXNlckRhdGEoKQogICAgICAgICAgdm0uJHJvdXRlci5wdXNoKCcvaG9tZScpCiAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCdjaGFuZ2VUb0hvbWUnKQogICAgICAgICAgdGhpcy4kcm9vdC5jaGFuZ2VCYW5uZXJCdG4gPSB0cnVlCiAgICAgICAgICB0aGlzLiRyb290LkNoYW5nZU1lbWJlciA9IHRydWUKICAgICAgICAgIHRoaXMuJHJvb3QuY2FydFF1YW50aXR5ID0gdHJ1ZQogICAgICAgIH0KICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgY29uc3QgZXJyT2JqID0gZXJyb3IucmVzcG9uc2UKICAgICAgICAgIGlmIChlcnJPYmouc3RhdHVzID09PSA0MDAgJiYgZXJyT2JqLmRhdGEubWVzc2FnZSA9PT0gJ+eZu+WFpeWkseaVlyEnKSB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgIG1lc3NhZ2U6IGVyck9iai5kYXRhLm1lc3NhZ2UsCiAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9IGVsc2UgaWYgKGVyck9iai5zdGF0dXMgPT09IDQwNCAmJiBlcnJPYmouZGF0YS5tZXNzYWdlID09PSAn55m75YWl5aSx5pWXIScpIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgbWVzc2FnZTogZXJyT2JqLmRhdGEubWVzc2FnZSwKICAgICAgICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgICAgICAgfSkKICAgICAgICAgIH0KICAgICAgICB9KQogICAgfSwKICAgIGxvZ2luU3VjY2VzcyAoKSB7CiAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgdGl0bGU6ICfnmbvlhaXmiJDlip8nLAogICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICB9KQogICAgfSwKICAgIHNpZ251cCAoKSB7CiAgICAgIGNvbnN0IGFwaSA9ICdodHRwOi8vc3dpdGNoZXIucm9ja2V0LWNvZGluZy5jb20vcmVnaXN0ZXInCiAgICAgIGNvbnN0IHZtID0gdGhpcwogICAgICB0aGlzLiRodHRwLnBvc3QoYXBpLCB2bS51c2VyKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5yZXN1bHQpIHsKICAgICAgICAgIHRoaXMuc2lnbnVwU3VjY2VzcygpCiAgICAgICAgICB2bS4kcm91dGVyLnB1c2goJy9ob21lJykKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5zaWdudXBTdWNjZXNzZnVsbHkoKQogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICB0aGlzLiRtZXNzYWdlKGVycikKICAgICAgfSkKICAgIH0sCiAgICBzaWdudXBTdWNjZXNzICgpIHsKICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICB0aXRsZTogJ+iou+WGiuaIkOWKnycsCiAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgIH0pCiAgICB9LAogICAgc2lnbnVwU3VjY2Vzc2Z1bGx5ICgpIHsKICAgICAgdGhpcy4kbm90aWZ5LmVycm9yKHsKICAgICAgICB0aXRsZTogJ+atpCBFbWFpbCDlt7LntpPoqLvlhoohJywKICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgfSkKICAgIH0sCiAgICBmYkluaXQgKGQsIHMsIGlkKSB7CiAgICAgIGxldCBqcyA9IG51bGwKICAgICAgY29uc3QgZmpzID0gZC5nZXRFbGVtZW50c0J5VGFnTmFtZShzKVswXQogICAgICBpZiAoZC5nZXRFbGVtZW50QnlJZChpZCkpIHsgcmV0dXJuIH0KICAgICAganMgPSBkLmNyZWF0ZUVsZW1lbnQocykKICAgICAganMuaWQgPSBpZAogICAgICBqcy5zcmMgPSAnaHR0cHM6Ly9jb25uZWN0LmZhY2Vib29rLm5ldC9lbl9VUy9zZGsuanMnCiAgICAgIGZqcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShqcywgZmpzKQogICAgfSwKICAgIGZiU2lnbkluICgpIHsKICAgICAgd2luZG93LkZCLmxvZ2luKCh7IHN0YXR1cywgYXV0aFJlc3BvbnNlIH0pID0+IHsKICAgICAgICBpZiAoc3RhdHVzID09PSAnY29ubmVjdGVkJykgewogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9ob21lJykKICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoJ2NoYW5nZVRvSG9tZScpCiAgICAgICAgfQogICAgICB9LAogICAgICB7CiAgICAgICAgc2NvcGU6ICdwdWJsaWNfcHJvZmlsZSxlbWFpbCcKICAgICAgfSkKICAgIH0sCiAgICBnZXRDYXJ0RGF0YSAoKSB7CiAgICAgIGNvbnN0IGFwaSA9ICdodHRwOi8vc3dpdGNoZXIucm9ja2V0LWNvZGluZy5jb20vYXBpL2NhcnQnCiAgICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykKICAgICAgdGhpcy4kaHR0cC5nZXQoYXBpLCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWAKICAgICAgICB9CiAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLiRyb290LmdldENhcnRzID0gcmVzLmRhdGEuY2FydHMKICAgICAgICB0aGlzLiRyb290LmdldENhcnRMZW4gPSByZXMuZGF0YS5jYXJ0cy5sZW5ndGgKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2FydExlbicsIHJlcy5kYXRhLmNhcnRzLmxlbmd0aCkKICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICB0aGlzLiRtZXNzYWdlKGVycikKICAgICAgfSkKICAgIH0sCiAgICBnZXRVc2VyRGF0YSAoKSB7CiAgICAgIGNvbnN0IG1lbmJlcklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ21lbmJlcklkJykKICAgICAgY29uc3QgYXBpID0gYGh0dHA6Ly9zd2l0Y2hlci5yb2NrZXQtY29kaW5nLmNvbS9hcGkvbWVtYmVyLyR7bWVuYmVySWR9YAogICAgICB0aGlzLiRodHRwLmdldChhcGkpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLiRyb290LnVzZXJOYW1lID0gcmVzLmRhdGEubWVtYmVyLk5hbWUKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlck5hbWUnLCByZXMuZGF0YS5tZW1iZXIuTmFtZSkKICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICB0aGlzLiRtZXNzYWdlKGVycikKICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views/back_side","sourcesContent":["<template>\n  <div class=\"login bg-light\">\n    <div class=\"container loginHeight\">\n      <div class=\"row d-flex flex-column\">\n        <div class=\"login-content mt-5 mb-5\">\n          <nav>\n            <div class=\"nav nav-tabs\" id=\"nav-tab\" role=\"tablist\">\n              <a\n                class=\"nav-item nav-link active\"\n                id=\"nav-login-tab\"\n                data-toggle=\"tab\"\n                href=\"#nav-login\"\n                role=\"tab\"\n                aria-controls=\"nav-login\"\n                aria-selected=\"true\"\n              >登入</a>\n              <a\n                class=\"nav-item nav-link\"\n                id=\"nav-registered-tab\"\n                data-toggle=\"tab\"\n                href=\"#nav-registered\"\n                role=\"tab\"\n                aria-controls=\"nav-registered\"\n                aria-selected=\"false\"\n              >註冊</a>\n            </div>\n          </nav>\n          <div class=\"tab-content\" id=\"nav-tabContent\">\n            <div\n              class=\"tab-pane fade show active\"\n              id=\"nav-login\"\n              role=\"tabpanel\"\n              aria-labelledby=\"nav-login-tab\"\n            >\n              <form class=\"signin\" @submit.prevent=\"login\">\n                  <label class=\"loglabel\" for=\"inputEmail\">帳號</label>\n                  <el-form :model=\"user\" :rules=\"rules\" ref=\"user\"  class=\"demo-ruleForm\">\n                    <el-form-item  prop=\"Email\">\n                      <el-input v-model=\"user.Email\" required></el-input>\n                    </el-form-item>\n                  <label\n                    class=\"d-flex justify-content-between LogininputPassword\"\n                    for=\"inputPassword\"\n                  >\n                    <p class=\"password\">密碼</p>\n                    <router-link to=\"/ResetPassword\">\n                      <p class=\"forgetpassword\">\n                        <a href=\"#\">忘記密碼？</a>\n                      </p>\n                    </router-link>\n                  </label>\n                    <el-form-item  prop=\"Password\">\n                      <el-input type=\"password\" v-model=\"user.Password\" autocomplete=\"new-password\" required ></el-input>\n                    </el-form-item>\n                  </el-form>\n                  <div class=\"d-flex justify-content-end\">\n                    <button class=\"btn btn-warning login-submit login-btn\" type=\"submit\">登入</button>\n                  </div>\n              </form>\n              <!-- <div class=\"tab-content-thirdlogin\">\n                <p>以下帳號快速登入</p>\n                <div class=\"social-login\">\n                  <button type=\"button\" class=\"btn btn-social login-facebook\" @click.prevent=\"fbSignIn\">Facebook</button>\n                </div>\n              </div> -->\n            </div>\n            <div\n              class=\"tab-pane fade\"\n              id=\"nav-registered\"\n              role=\"tabpanel\"\n              aria-labelledby=\"nav-registered-tab\"\n            >\n              <form class=\"registered @click.prevent\" @submit.prevent=\"signup\">\n                <div class=\"form-group\">\n                  <el-form :model=\"user\" :rules=\"rules\" ref=\"user\"  class=\"demo-ruleForm\">\n                    <label for=\"Login-Name\">名稱</label>\n                    <el-form-item  prop=\"Name\">\n                      <el-input v-model=\"user.Name\"></el-input>\n                    </el-form-item>\n                    <label for=\"Login-Email\">帳號</label>\n                    <el-form-item  prop=\"Email\">\n                      <el-input v-model=\"user.Email\"></el-input>\n                    </el-form-item>\n                    <label for=\"Login-Phone\">手機號碼</label>\n                    <el-form-item  prop=\"Phone\">\n                      <el-input v-model=\"user.Phone\"></el-input>\n                    </el-form-item>\n                    <label for=\"Login-Idnumber\">身分證號碼</label>\n                     <el-form-item  prop=\"Identity\">\n                      <el-input v-model=\"user.Identity\"></el-input>\n                    </el-form-item>\n                    <label for=\"Login-Address\" required>地址</label>\n                     <el-form-item  prop=\"Address\">\n                      <el-input v-model=\"user.Address\" required></el-input>\n                    </el-form-item>\n                    <label for=\"Login-Password\">密碼</label>\n                      <el-form-item  prop=\"Password\">\n                      <el-input v-model=\"user.Password\"  autocomplete=\"off\" required></el-input>\n                    </el-form-item>\n                    <label for=\"Login-rePassword\">確認密碼</label>\n                    <el-form-item  prop=\"repassword\">\n                      <el-input v-model=\"user.rePassword\"  autocomplete=\"off\" required></el-input>\n                    </el-form-item>\n                  </el-form>\n                </div>\n                <div class=\"d-flex justify-content-end\">\n                  <button class=\"btn btn-warning registered-submit\" type=\"submit\">註冊</button>\n                </div>\n              </form>\n              <!-- <div class=\"tab-content-thirdlogin\">\n                <p>以下帳號快速登入</p>\n                <div class=\"social-login\">\n                  <button type=\"button\" class=\"btn btn-social login-facebook\" @click.prevent=\"fbSignIn\">Facebook</button>\n                </div>\n              </div> -->\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'Login',\n  data () {\n    return {\n      // 登入驗證資料結構 - 物件\n      user: {\n        Email: null, // 帳號\n        Password: null,\n        rePassword: null,\n        Address: null,\n        Identity: null,\n        Phone: null,\n        Name: null,\n        error: false\n      },\n      rules: {\n        Email: [\n          { required: true, message: '請輸入帳號', trigger: 'blur' },\n          { type: 'email', message: 'example@mail.com', trigger: ['blur', 'change'] }\n        ],\n        Password: [\n          { required: true, message: '請輸入密碼', trigger: 'blur' }\n        ],\n        repassword: [\n          { required: true, message: '請再次輸入密碼', trigger: 'blur' }\n        ],\n        Name: [\n          { required: true, message: '請輸入用戶名稱', trigger: 'blur' }\n        ],\n        Phone: [\n          { required: true, message: '請輸入正確電話號碼', trigger: 'blur' },\n          { type: 'number', message: '電話號碼必須為數字' }\n        ],\n        Identity: [\n          { required: true, message: '請輸入身分證號碼', trigger: 'blur' },\n          { max: 10, message: '請輸入正確身分證號碼：A123456789', trigger: 'blur' }\n        ],\n        Address: [\n          { required: true, message: '請輸入地址', trigger: 'blur' }\n        ]\n      },\n      connected: false\n    }\n  },\n  mounted () {\n    window.fbAsyncInit = function init () {\n      window.FB.init({\n        appId: '582425672683465',\n        cookie: true,\n        xfbml: true,\n        version: 'v7.0'\n      })\n      window.FB.AppEvents.logPageView()\n    }\n    this.fbInit(document, 'script', 'facebook-jssdk')\n  },\n  methods: {\n    login () {\n      const vm = this\n      const api = 'http://switcher.rocket-coding.com/login'\n      // 內層是使用箭頭函式，沒有自己的 this 所以外層先宣告 this\n      this.$http.post(api, {\n        Email: this.user.Email,\n        Password: this.user.Password\n      }).then((response) => {\n        localStorage.setItem('menberId', response.data.id)\n        if (response.data.result) {\n          localStorage.setItem('token', response.data.token)\n          this.getCartData()\n          this.loginSuccess()\n          this.getUserData()\n          vm.$router.push('/home')\n          this.$root.$emit('changeToHome')\n          this.$root.changeBannerBtn = true\n          this.$root.ChangeMember = true\n          this.$root.cartQuantity = true\n        }\n      })\n        .catch(error => {\n          const errObj = error.response\n          if (errObj.status === 400 && errObj.data.message === '登入失敗!') {\n            this.$message({\n              message: errObj.data.message,\n              type: 'warning'\n            })\n          } else if (errObj.status === 404 && errObj.data.message === '登入失敗!') {\n            this.$message({\n              message: errObj.data.message,\n              type: 'warning'\n            })\n          }\n        })\n    },\n    loginSuccess () {\n      this.$notify({\n        title: '登入成功',\n        type: 'success'\n      })\n    },\n    signup () {\n      const api = 'http://switcher.rocket-coding.com/register'\n      const vm = this\n      this.$http.post(api, vm.user).then(response => {\n        if (response.data.result) {\n          this.signupSuccess()\n          vm.$router.push('/home')\n        } else {\n          this.signupSuccessfully()\n        }\n      }).catch(err => {\n        this.$message(err)\n      })\n    },\n    signupSuccess () {\n      this.$notify({\n        title: '註冊成功',\n        type: 'success'\n      })\n    },\n    signupSuccessfully () {\n      this.$notify.error({\n        title: '此 Email 已經註冊!',\n        type: 'success'\n      })\n    },\n    fbInit (d, s, id) {\n      let js = null\n      const fjs = d.getElementsByTagName(s)[0]\n      if (d.getElementById(id)) { return }\n      js = d.createElement(s)\n      js.id = id\n      js.src = 'https://connect.facebook.net/en_US/sdk.js'\n      fjs.parentNode.insertBefore(js, fjs)\n    },\n    fbSignIn () {\n      window.FB.login(({ status, authResponse }) => {\n        if (status === 'connected') {\n          this.$router.push('/home')\n          this.$root.$emit('changeToHome')\n        }\n      },\n      {\n        scope: 'public_profile,email'\n      })\n    },\n    getCartData () {\n      const api = 'http://switcher.rocket-coding.com/api/cart'\n      const token = localStorage.getItem('token')\n      this.$http.get(api, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }).then(res => {\n        this.$root.getCarts = res.data.carts\n        this.$root.getCartLen = res.data.carts.length\n        localStorage.setItem('cartLen', res.data.carts.length)\n      }).catch(err => {\n        this.$message(err)\n      })\n    },\n    getUserData () {\n      const menberId = localStorage.getItem('menberId')\n      const api = `http://switcher.rocket-coding.com/api/member/${menberId}`\n      this.$http.get(api).then(res => {\n        this.$root.userName = res.data.member.Name\n        localStorage.setItem('userName', res.data.member.Name)\n      }).catch(err => {\n        this.$message(err)\n      })\n    }\n  }\n}\n</script>\n"]}]}